{% extends 'base.html' %}
{% load static %}
{% block content %}

<div id="page-wrapper">
    <div class="container-fluid">
        <div class="row bg-title">
            <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
                <h4 class="page-title">Customers</h4> </div>
                    <span>
                    {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-{{message.tags}} alert-dismissible">
                                {{ message|safe }}
                                <a href="" class="close" and data-dismiss="alert">Close-X</a>
                            </div>
                        {% endfor %}
                    {% endif %}

                    </span>
        </div>
        {% comment %} My Chart {% endcomment %}
        {% comment %} <div id="container" style="width: 75%;">
            <canvas id="pie-chart"></canvas>
        </div> {% endcomment %}
        
        
        <!-- /.row -->
        <div class="row">
            <div class="col-md-12 col-lg-12 col-sm-12">
                <div class="white-box">
                    
                    <h3 class="box-title">Customer Details</h3>


<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
  Create Sales Receipt
</button>


  <!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Cash Receipt</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
         <table class="table table-striped">
    <thead>
      <tr>
        <th>Check No</th>
        <th>Customer Name</th>
        <th>Date</th>
          <th>Mode of Payment</th>
      </tr>
    </thead>
             <tbody>
      <tr>
        <td>
            <input type="text" name="checkno" class="form-control">
        </td>

        <td>
            <input type="text" name="customername" class="form-control">
        </td>

        <td>
            <input type="text" name="Date" class="form-control">
        </td>
          <td>
              <div class="form-group">
                <select class="form-control" id="exampleFormControlSelect1">
                  <option>Cash</option>
                  <option>Bank</option>
                </select>
            </div>
          </td>
      </tr>
             </tbody>
         </table>
      <!-- Modal body -->
      <div class="modal-body">
          <table class="table table-striped">
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price</th>
          <th>Total</th>
          <th>Balance</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
            <input type="text" name="product" class="form-control">
        </td>
        <td>
            <input type="number" name="quantity" class="form-control">
        </td>
        <td>
            <input type="text" name="price" class="form-control">
        </td>

        <td>
            <input type="text" name="total" class="form-control">
        </td>

        <td>
            <input type="text" name="balance" class="form-control">
        </td>
      </tr>
      <tr>
       <td>
            <input type="text" name="product" class="form-control">
        </td>
        <td>
            <input type="number" name="quantity" class="form-control">
        </td>
        <td>
            <input type="text" name="price" class="form-control">
        </td>

        <td>
            <input type="text" name="total" class="form-control">
        </td>

        <td>
            <input type="text" name="balance" class="form-control">
        </td>
      </tr>
      <tr>
       <td>
            <input type="text" name="product" class="form-control">
        </td>
        <td>
            <input type="number" name="quantity" class="form-control">
        </td>
        <td>
            <input type="text" name="price" class="form-control">
        </td>

        <td>
            <input type="text" name="total" class="form-control">
        </td>

        <td>
            <input type="text" name="balance" class="form-control">
        </td>
      </tr>
    </tbody>
  </table>
  </div>

      <!-- Modal footer -->
      <div class="modal-footer">
          <a href="{% url 'cashreceipt' %}"><button type="button" class="btn btn-primary">Generate Receipt</button></a>
      </div>

    </div>
  </div>
</div>
</div>
                    <table id="example" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%">
                        <thead>
                            <tr>
                                <th>Customer Name</th>
                                <th>Contact</th>
                                <th>Item Purchased</th>
                                <th>Quantity</th>

                                <th>Amount Paid</th>
                                <th>Balance</th>
                                <th>Order Status</th>
                                <th>Mode of Payment</th>
                                <th>Purchased_From</th>
                                <th>due_date</th>
                                {% comment %} <th>Action</th> {% endcomment %}
                            </tr>
                        </thead>
                        <tbody>
                        {% for customer in customers %}
                            <tr>
                                <td>{{ customer.customerName }}</td>
                                <td>{{ customer.contact }}</td>
                                <td>{{ customer.item_purchased }}</td>
                                <td>{{ customer.quantity }}</td>
                                
                                <td>{{ customer.totalAmountPaid }}</td>
                                <td>{{ customer.balance }}</td>
                                {% if customer.order_status == "Complete" %}
                                    <td style="color:green">{{ customer.order_status }}</td>
                                {% else %}
                                    <td style="color:red">{{ customer.order_status }}</td>
                                {% endif %}
                                <td>{{ customer.modeOfPayment }}</td>
                                <td>{{ customer.purchased_From }}</td>
                                <td>{{ customer.due_date }}</td>
                                {% comment %} <td><a href="{% url 'customerdetail' customer.id %}" style="color: green;">Edit</a></td> {% endcomment %}
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}